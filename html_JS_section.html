<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <script language='JavaScript'>
        function process_data() {
          var table_data = [ { first_name : 'Rose',
                       last_name  : 'Tyler',
                       home       : 'Earth' },
                     { first_name : 'Zoe',
                       last_name  : 'Heriot',
                       home       : 'Space Station W3'},
                     { first_name : 'Jo',
                       last_name  : 'Grant',
                       home       : 'Earth'},
                     { first_name : 'Leela',
                       last_name  : null,
                       home       : 'Unspecified'},
                     { first_name : 'Romana',
                       last_name  : null,
                       home       : 'Gallifrey'},
                     { first_name : 'Clara',
                       last_name  : 'Oswald',
                       home       : 'Earth'},
                     { first_name : 'Adric',
                       last_name  : null,
                       home       : 'Alzarius'},
                     { first_name : 'Susan',
                       last_name  : 'Foreman',
                       home       : 'Gallifrey'} ];


          var htmlStr = '<table border="1">\n<tr>\n';

          for (var key in table_data[0]){
            htmlStr += '<th width=120px>' + key + '</th>\n';
          }
          htmlStr += '</tr>\n';

          for (x = 0; x < table_data.length ; x++){
            htmlStr += '<tr>\n';

            for (var key in table_data[x]){
              htmlStr += '<td align = center>' + table_data[x][key] + '</td>\n';
            }
            htmlStr += '</tr>\n';
        }
        htmlStr += '</table>';
        console.log(document.getElementById('displaySelect').value)
        if (document.getElementById('displaySelect').value == 'display1'){
        document.getElementById('display1').innerHTML = htmlStr;
        document.getElementById('display2').innerHTML = '';
      } else {
        document.getElementById('display2').innerHTML = htmlStr;
        document.getElementById('display1').innerHTML = '';
      }
      }
    </script>
    <title></title>
  </head>
  <body>
  Please input display location<br>
  <select id='displaySelect'>
  <option value="display1">display 1</option>
  <option value="display2">display 2</option>
</select>
  </form>
  <input type="submit" onclick="process_data();">
  <p>display 1<span id="display1"></span></p><br>
  <p>display 2<span id="display2"></span></p>
  </body>
</html>
